// THIS FILE IS USED TO INFORM PACKAGEKIT
// THAT THE UPDATES MIGHT HAVE CHANGED
// Whenever the dpkg is called we might have different updates
// i.e. a user removes a package that had an update
DPkg::Post-Invoke { "/usr/bin/test -S /var/run/dbus/system_bus_socket && /usr/bin/dbus-send --system --dest=org.freedesktop.DBus /org/freedesktop/DBus org.freedesktop.DBus.StartServiceByName string:org.freedesktop.PackageKit uint32:0 && /usr/bin/dbus-send --system --dest=org.freedesktop.PackageKit --type=method_call /org/freedesktop/PackageKit org.freedesktop.PackageKit.StateHasChanged string:'cache-update'"; };

// When the apt cache is updated (i.e. apt-cache update)
APT::Update::Post-Invoke-Success { "/usr/bin/test -S /var/run/dbus/system_bus_socket && /usr/bin/dbus-send --system --dest=org.freedesktop.DBus /org/freedesktop/DBus org.freedesktop.DBus.StartServiceByName string:org.freedesktop.PackageKit uint32:0 && /usr/bin/dbus-send --system --dest=org.freedesktop.PackageKit --type=method_call /org/freedesktop/PackageKit org.freedesktop.PackageKit.StateHasChanged string:'cache-update'"; };
